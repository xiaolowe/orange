<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="race.score">	<select id="race.score.selectPageList" parameterType="com.orange.race.entity.RaceScoreEntity"		resultType="hashMap">		select t.*,		FROM t_race_score t		where 1=1		<if test="id!=null and id!=''">			and t.id=#{id}		</if>		<if test="addonId!=null and addonId!=''">			and t.addonId=#{addonId}		</if>		<if test="isTeam!=null and isTeam!=''">			and t.isTeam=#{isTeam}		</if>		limit #{offset},#{pageSize}	</select>	<select id="race.score.selectPageCount" parameterType="com.orange.race.entity.RaceScoreEntity"		resultType="java.lang.Integer">		select count(*) from t_race_score t where 1=1		<if test="id!=null and id!=''">			and t.id=#{id}		</if>		<if test="addonId!=null and addonId!=''">			and t.addonId=#{addonId}		</if>		<if test="isTeam!=null and isTeam!=''">			and t.isTeam=#{isTeam}		</if>	</select>	<insert id="race.score.insert" parameterType="com.orange.race.entity.RaceScoreEntity"		useGeneratedKeys="true" keyProperty="id">		insert into t_race_score		(		id, createTime		<if test="addonId!=null and addonId!=''">			,addonId		</if>		<if test="score!=null and score!=''">			,score		</if>		<if test="rank!=null and rank!=''">			,rank		</if>		<if test="isTeam!=null and isTeam!=''">			,isTeam		</if>		) values(		id, now()		<if test="addonId!=null and addonId!=''">			,#{addonId}		</if>		<if test="score!=null and score!=''">			,#{score}		</if>		<if test="rank!=null and rank!=''">			,#{rank}		</if>		<if test="isTeam!=null and isTeam!=''">			,#{isTeam}		</if>		)	</insert>	<update id="race.score.update" parameterType="com.orange.race.entity.RaceScoreEntity">		update t_race_score		set id=#{id}, updateTime=now()		<if test="addonId!=null and addonId!=''">			,addonId=#{addonId}		</if>		<if test="score!=null and score!=''">			,score=#{score}		</if>		<if test="rank!=null and rank!=''">			,rank=#{rank}		</if>		<if test="isTeam!=null and isTeam!=''">			,isTeam=#{isTeam}		</if>		where 1=1 and id=#{id}	</update>	<select id="race.score.selectList" parameterType="com.orange.race.entity.RaceScoreEntity"		resultType="com.orange.race.entity.RaceScoreEntity">		select t.*		from t_race_score t 		where 1=1		<if test="id!=null and id!=''">			and id=#{id}		</if>		<if test="addonId!=null and addonId!=''">			and addonId=#{addonId}		</if>		<if test="score!=null and score!=''">			and score=#{score}		</if>		<if test="rank!=null and rank!=''">			and rank=#{rank}		</if>		<if test="isTeam!=null and isTeam!=''">			and isTeam=#{isTeam}		</if>	</select>	<select id="race.score.selectOne" parameterType="com.orange.race.entity.RaceScoreEntity"		resultType="com.orange.race.entity.RaceScoreEntity">		select t.*		from t_race_score t		where 1=1		<if test="id!=null and id!=''">			and id=#{id}		</if>		<if test="addonId!=null and addonId!=''">			and addonId=#{addonId}		</if>		<if test="score!=null and score!=''">			and score=#{score}		</if>		<if test="rank!=null and rank!=''">			and rank=#{rank}		</if>		<if test="isTeam!=null and isTeam!=''">			and isTeam=#{isTeam}		</if>	</select>		<select id="race.score.selectScore" parameterType="hashMap"		resultType="com.orange.race.entity.RaceScoreEntity">			SELECT s.*			FROM t_race_score s			WHERE 1=1			AND s.addonId IN			(				SELECT 					 <![CDATA[IF					(						t.isTeam						,						(SELECT m.teamId						FROM t_race_addon_man m, t_race_addon a						WHERE a.raceId=t.id 						AND a.teamId=m.teamId						AND t.isTeam=1						AND m.mobile=#{mobile}						AND m.cardId=#{cardId})						,						(SELECT m.id						FROM t_race_addon_man m, t_race_addon a						WHERE t.id=a.raceId						AND a.teamId=m.teamId 						AND t.isTeam=0						AND m.mobile= #{mobile} 						AND m.cardId=#{cardId})					) AS sId ]]> 				FROM t_race_info t				WHERE t.id=#{raceId}			)	</select>	<select id="race.score.selectById" parameterType="string"		resultType="com.orange.race.entity.RaceScoreEntity">		select t.*		from t_race_score t		where 1=1		<if test="id!=null and id!=''">			and id=#{id}		</if>		<if test="addonId!=null and addonId!=''">			and addonId=#{addonId}		</if>		<if test="score!=null and score!=''">			and score=#{score}		</if>		<if test="isTeam!=null and isTeam!=''">			and isTeam=#{isTeam}		</if>	</select>	<delete id="race.score.deleteById" parameterType="com.orange.race.entity.RaceScoreEntity">		delete from		t_race_score where 1=1 and id=#{id}	</delete></mapper>